import{Fragment as e,Component as t,options as r}from"preact";import{Suspense as o}from"preact/compat";function _(e,t){for(let r in t)e[r]=t[r];return e}function n(e,t){return Array.isArray(t)?t.reduce(n,e):null!=t&&!1!==t&&e.push(t),e}function s(p,i,l,c){if(null==p||"object"!=typeof p)return Promise.resolve();let a=p.type,u=p.props,m=[];if(l=l||{},p.__=c,"function"==typeof a&&a!==e&&a!==o){let e,o=p.__c=new t(u,l);o.__d=!0,o.__v=p,void 0===o.state&&(o.state={});let n=!1,m=a.contextType,d=m&&l[m.__c],h=null!=m?d?d.props.value:m.__p||m.__:l;return p.__=c,a.prototype&&"function"==typeof a.prototype.render?(n=!0,o=p.__c=new a(u,h),o.__d=!0,o.__v=p,o.props=u,o.context=h,void 0===o.state&&(o.state={}),a.getDerivedStateFromProps?o.state=_(_({},o.state),a.getDerivedStateFromProps(o.props,o.state)):o.componentWillMount&&o.componentWillMount(),e=()=>{try{return r.render&&r.render(p),r.__r&&r.__r(p),Promise.resolve(o.render(o.props,o.state,o.context))}catch(t){return t&&t.then?t.then(e,e):Promise.reject(t)}}):e=()=>{try{const e=r.__s;r.__s=!0,r.render&&r.render(p),r.__r&&r.__r(p);const t=Promise.resolve(a.call(p.__c,u,h));return r.__s=e,t}catch(t){return t&&t.then?t.then(e,e):Promise.reject(t)}},r.__b&&r.__b(p),(i?(i(p,n?o:void 0)||Promise.resolve()).then(e):e()).then(e=>(o.getChildContext&&(l=_(_({},l),o.getChildContext())),Array.isArray(e)?(p.__k=[],Promise.all(e.map(e=>(p.__k.push(e),s(e,i,l,p))))):s(e,i,l,p)))}return r.__b&&r.__b(p),u&&n(m=[],u.children).length?(p.__k=[],Promise.all(m.map(e=>(p.__k.push(e),s(e,i,l,p))))):Promise.resolve()}export default s;
//# sourceMappingURL=index.module.js.map
